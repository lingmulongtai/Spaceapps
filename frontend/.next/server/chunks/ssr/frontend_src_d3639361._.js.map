{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/lingm/Downloads/Spaceapps%20photo/frontend/src/data/datasets.ts"],"sourcesContent":["import type { DatasetDefinition } from \"@/types/datasets\";\r\n\r\nconst GIBS_BASE = \"https://gibs.earthdata.nasa.gov/wmts/epsg3857/best\";\r\n\r\nexport const DATASETS: DatasetDefinition[] = [\r\n  {\r\n    id: \"earth-true-color\",\r\n    name: \"Earth True Color (MODIS)\",\r\n    description:\r\n      \"NASA GIBS MODIS Terra Corrected Reflectance daily imagery at 250m resolution.\",\r\n    category: \"earth\",\r\n    attribution: \"NASA GIBS / Blue Marble\",\r\n    minZoom: 2,\r\n    maxZoom: 9,\r\n    tileSize: 256,\r\n    initialView: { center: [0, 0], zoom: 2 },\r\n    supportsTime: true,\r\n    availableDates: [\r\n      \"2024-10-01\",\r\n      \"2024-09-01\",\r\n      \"2024-08-01\",\r\n      \"2024-07-01\",\r\n    ],\r\n    defaultDate: \"2024-10-01\",\r\n    getTileUrls: ({ date }) => {\r\n      const day = date ?? \"2024-10-01\";\r\n      return [\r\n        `${GIBS_BASE}/MODIS_Terra_CorrectedReflectance_TrueColor/default/${day}/GoogleMapsCompatible_Level9/{z}/{y}/{x}.jpg`,\r\n      ];\r\n    },\r\n  },\r\n  {\r\n    id: \"earth-thermal-night\",\r\n    name: \"Earth Nighttime Thermal\",\r\n    description: \"Suomi NPP VIIRS day/night band highlighting nighttime lights and thermal features.\",\r\n    category: \"earth\",\r\n    attribution: \"NASA GIBS / VIIRS\",\r\n    minZoom: 2,\r\n    maxZoom: 8,\r\n    tileSize: 256,\r\n    initialView: { center: [0, 20], zoom: 2 },\r\n    supportsTime: true,\r\n    availableDates: [\"2024-10-01\", \"2024-09-05\"],\r\n    defaultDate: \"2024-10-01\",\r\n    getTileUrls: ({ date }) => {\r\n      const day = date ?? \"2024-10-01\";\r\n      return [\r\n        `${GIBS_BASE}/VIIRS_SNPP_DayNightBand_ENCC/default/${day}/GoogleMapsCompatible_Level8/{z}/{y}/{x}.jpg`,\r\n      ];\r\n    },\r\n  },\r\n  {\r\n    id: \"mars-mro-marci\",\r\n    name: \"Mars Global Daily Mosaic (MARCI)\",\r\n    description:\r\n      \"Mars Reconnaissance Orbiter MARCI global mosaic taps CTX context color imagery for daily weather tracking.\",\r\n    category: \"mars\",\r\n    attribution: \"NASA / JPL / MSSS\",\r\n    minZoom: 2,\r\n    maxZoom: 7,\r\n    tileSize: 512,\r\n    initialView: { center: [0, 0], zoom: 2 },\r\n    supportsTime: true,\r\n    availableDates: [\"2024-09-15\", \"2024-08-01\"],\r\n    defaultDate: \"2024-09-15\",\r\n    getTileUrls: ({ date }) => {\r\n      const day = date ?? \"2024-09-15\";\r\n      return [`https://mars.nasa.gov/mmgis-maps/MARCI/${day}/{z}/{x}/{y}.jpg`];\r\n    },\r\n  },\r\n  {\r\n    id: \"moon-lro-wac\",\r\n    name: \"Moon LRO WAC Mosaic\",\r\n    description: \"Lunar Reconnaissance Orbiter Wide Angle Camera monochrome global mosaic.\",\r\n    category: \"moon\",\r\n    attribution: \"NASA / GSFC / Arizona State University\",\r\n    minZoom: 2,\r\n    maxZoom: 8,\r\n    tileSize: 512,\r\n    initialView: { center: [0, 0], zoom: 1.5 },\r\n    getTileUrls: () => [\r\n      \"https://trek.nasa.gov/tiles/Moon/EQ/LRO_WAC_Mosaic_Global_303ppd/{z}/{x}/{y}.jpg\",\r\n    ],\r\n    overlays: [\r\n      {\r\n        id: \"moon-dem\",\r\n        name: \"LRO LOLA Elevation\",\r\n        description: \"Laser altimeter-based shaded relief from LOLA.\",\r\n        getTileUrls: () => [\r\n          \"https://trek.nasa.gov/tiles/Moon/EQ/LRO_LOLA_ClrShade_Global_128ppd/{z}/{x}/{y}.png\",\r\n        ],\r\n        opacity: 0.6,\r\n      },\r\n    ],\r\n  },\r\n  {\r\n    id: \"andromeda-hubble\",\r\n    name: \"Andromeda Galaxy (Panchromatic)\",\r\n    description:\r\n      \"2.5 gigapixel panchromatic mosaic of Andromeda (M31) captured by the Hubble Space Telescope (PHAT survey).\",\r\n    category: \"deep-space\",\r\n    attribution: \"NASA / ESA / JHU\",\r\n    minZoom: 0,\r\n    maxZoom: 12,\r\n    tileSize: 512,\r\n    initialView: { center: [0, 0], zoom: 0.5 },\r\n    getTileUrls: () => [\r\n      \"https://www.spacetelescope.org/static/archives/images/newscollection/heic1502a/{z}/{x}/{y}.jpg\",\r\n    ],\r\n  },\r\n];\r\n\r\nexport const DATASET_LOOKUP = new Map(DATASETS.map((dataset) => [dataset.id, dataset]));\r\n\r\n"],"names":[],"mappings":";;;;;;AAEA,MAAM,YAAY;AAEX,MAAM,WAAgC;IAC3C;QACE,IAAI;QACJ,MAAM;QACN,aACE;QACF,UAAU;QACV,aAAa;QACb,SAAS;QACT,SAAS;QACT,UAAU;QACV,aAAa;YAAE,QAAQ;gBAAC;gBAAG;aAAE;YAAE,MAAM;QAAE;QACvC,cAAc;QACd,gBAAgB;YACd;YACA;YACA;YACA;SACD;QACD,aAAa;QACb,aAAa,CAAC,EAAE,IAAI,EAAE;YACpB,MAAM,MAAM,QAAQ;YACpB,OAAO;gBACL,GAAG,UAAU,oDAAoD,EAAE,IAAI,4CAA4C,CAAC;aACrH;QACH;IACF;IACA;QACE,IAAI;QACJ,MAAM;QACN,aAAa;QACb,UAAU;QACV,aAAa;QACb,SAAS;QACT,SAAS;QACT,UAAU;QACV,aAAa;YAAE,QAAQ;gBAAC;gBAAG;aAAG;YAAE,MAAM;QAAE;QACxC,cAAc;QACd,gBAAgB;YAAC;YAAc;SAAa;QAC5C,aAAa;QACb,aAAa,CAAC,EAAE,IAAI,EAAE;YACpB,MAAM,MAAM,QAAQ;YACpB,OAAO;gBACL,GAAG,UAAU,sCAAsC,EAAE,IAAI,4CAA4C,CAAC;aACvG;QACH;IACF;IACA;QACE,IAAI;QACJ,MAAM;QACN,aACE;QACF,UAAU;QACV,aAAa;QACb,SAAS;QACT,SAAS;QACT,UAAU;QACV,aAAa;YAAE,QAAQ;gBAAC;gBAAG;aAAE;YAAE,MAAM;QAAE;QACvC,cAAc;QACd,gBAAgB;YAAC;YAAc;SAAa;QAC5C,aAAa;QACb,aAAa,CAAC,EAAE,IAAI,EAAE;YACpB,MAAM,MAAM,QAAQ;YACpB,OAAO;gBAAC,CAAC,uCAAuC,EAAE,IAAI,gBAAgB,CAAC;aAAC;QAC1E;IACF;IACA;QACE,IAAI;QACJ,MAAM;QACN,aAAa;QACb,UAAU;QACV,aAAa;QACb,SAAS;QACT,SAAS;QACT,UAAU;QACV,aAAa;YAAE,QAAQ;gBAAC;gBAAG;aAAE;YAAE,MAAM;QAAI;QACzC,aAAa,IAAM;gBACjB;aACD;QACD,UAAU;YACR;gBACE,IAAI;gBACJ,MAAM;gBACN,aAAa;gBACb,aAAa,IAAM;wBACjB;qBACD;gBACD,SAAS;YACX;SACD;IACH;IACA;QACE,IAAI;QACJ,MAAM;QACN,aACE;QACF,UAAU;QACV,aAAa;QACb,SAAS;QACT,SAAS;QACT,UAAU;QACV,aAAa;YAAE,QAAQ;gBAAC;gBAAG;aAAE;YAAE,MAAM;QAAI;QACzC,aAAa,IAAM;gBACjB;aACD;IACH;CACD;AAEM,MAAM,iBAAiB,IAAI,IAAI,SAAS,GAAG,CAAC,CAAC,UAAY;QAAC,QAAQ,EAAE;QAAE;KAAQ","debugId":null}},
    {"offset": {"line": 161, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/lingm/Downloads/Spaceapps%20photo/frontend/src/components/DatasetSidebar.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { useMemo, useState } from \"react\";\r\n\r\nimport { DATASETS } from \"@/data/datasets\";\r\n\r\ntype DatasetSidebarProps = {\r\n  selectedId: string;\r\n  onSelect: (datasetId: string) => void;\r\n  className?: string;\r\n  height?: string;\r\n};\r\n\r\nexport function DatasetSidebar({ selectedId, onSelect, className, height }: DatasetSidebarProps) {\r\n  const [query, setQuery] = useState(\"\");\r\n\r\n  const filtered = useMemo(() => {\r\n    const normalized = query.toLowerCase().trim();\r\n    if (!normalized) return DATASETS;\r\n    return DATASETS.filter((dataset) =>\r\n      [dataset.name, dataset.description, dataset.category]\r\n        .filter(Boolean)\r\n        .some((value) => value.toLowerCase().includes(normalized)),\r\n    );\r\n  }, [query]);\r\n\r\n  const containerClasses = [\r\n    \"flex w-full flex-col gap-4 rounded-2xl border border-slate-200 bg-white/90 p-4 text-slate-700 shadow-sm backdrop-blur dark:border-slate-800 dark:bg-slate-900/70 dark:text-slate-200\",\r\n    height,\r\n    className,\r\n  ]\r\n    .filter(Boolean)\r\n    .join(\" \");\r\n\r\n  return (\r\n    <section\r\n      className={containerClasses}\r\n      aria-label=\"Dataset selection\"\r\n    >\r\n      <header className=\"space-y-1\">\r\n        <h2 className=\"text-base font-semibold text-slate-900 dark:text-slate-100\">Explore Datasets</h2>\r\n        <p className=\"text-xs text-slate-500 dark:text-slate-400\">\r\n          Choose mission layers, deep sky mosaics, or planetary maps.\r\n        </p>\r\n      </header>\r\n\r\n      <label className=\"flex min-h-[44px] items-center gap-3 rounded-xl border border-slate-200 bg-white/65 px-3 py-2 text-sm text-slate-700 shadow-inner focus-within:border-blue-500 focus-within:ring-2 focus-within:ring-blue-200 dark:border-slate-700 dark:bg-slate-900/60 dark:text-slate-200\">\r\n        <span className=\"text-[11px] uppercase tracking-[0.2em] text-slate-400\">Search</span>\r\n        <input\r\n          type=\"search\"\r\n          placeholder=\"Search datasets...\"\r\n          value={query}\r\n          onChange={(event) => setQuery(event.target.value)}\r\n          className=\"flex-1 border-none bg-transparent text-sm focus:outline-none\"\r\n        />\r\n      </label>\r\n\r\n      <div className=\"scroll-elevated -mx-1 flex-1 overflow-y-auto px-1\">\r\n        <ul className=\"space-y-3 pb-1\">\r\n          {filtered.map((dataset) => {\r\n            const active = dataset.id === selectedId;\r\n            return (\r\n              <li key={dataset.id}>\r\n                <button\r\n                  type=\"button\"\r\n                  onClick={() => onSelect(dataset.id)}\r\n                  className={`w-full rounded-2xl border px-4 py-3 text-left text-sm transition-colors ${\r\n                    active\r\n                      ? \"border-blue-500 bg-blue-500/15 text-blue-100\"\r\n                      : \"border-slate-200 bg-white hover:border-blue-400/80 hover:bg-blue-50 dark:border-slate-800 dark:bg-slate-950 dark:hover:border-blue-400/60 dark:hover:bg-blue-500/15\"\r\n                  }`}\r\n                >\r\n                  <div className=\"flex items-center justify-between gap-3\">\r\n                    <span className=\"font-semibold text-slate-900 dark:text-slate-100\">{dataset.name}</span>\r\n                    <span className=\"rounded-full bg-slate-100 px-2 py-1 text-[10px] uppercase tracking-wide text-slate-600 dark:bg-slate-800 dark:text-slate-300\">\r\n                      {dataset.category}\r\n                    </span>\r\n                  </div>\r\n                  <p className=\"mt-2 text-xs leading-relaxed text-slate-500 dark:text-slate-400\">\r\n                    {dataset.description}\r\n                  </p>\r\n                  <p className=\"mt-2 text-xs text-slate-400 dark:text-slate-500\">{dataset.attribution}</p>\r\n                </button>\r\n              </li>\r\n            );\r\n          })}\r\n        </ul>\r\n      </div>\r\n    </section>\r\n  );\r\n}\r\n\r\nexport default DatasetSidebar;\r\n\r\n"],"names":[],"mappings":";;;;;;;AAEA;AAEA;AAJA;;;;AAaO,SAAS,eAAe,EAAE,UAAU,EAAE,QAAQ,EAAE,SAAS,EAAE,MAAM,EAAuB;IAC7F,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,6NAAQ,EAAC;IAEnC,MAAM,WAAW,IAAA,4NAAO,EAAC;QACvB,MAAM,aAAa,MAAM,WAAW,GAAG,IAAI;QAC3C,IAAI,CAAC,YAAY,OAAO,+IAAQ;QAChC,OAAO,+IAAQ,CAAC,MAAM,CAAC,CAAC,UACtB;gBAAC,QAAQ,IAAI;gBAAE,QAAQ,WAAW;gBAAE,QAAQ,QAAQ;aAAC,CAClD,MAAM,CAAC,SACP,IAAI,CAAC,CAAC,QAAU,MAAM,WAAW,GAAG,QAAQ,CAAC;IAEpD,GAAG;QAAC;KAAM;IAEV,MAAM,mBAAmB;QACvB;QACA;QACA;KACD,CACE,MAAM,CAAC,SACP,IAAI,CAAC;IAER,qBACE,0PAAC;QACC,WAAW;QACX,cAAW;;0BAEX,0PAAC;gBAAO,WAAU;;kCAChB,0PAAC;wBAAG,WAAU;kCAA6D;;;;;;kCAC3E,0PAAC;wBAAE,WAAU;kCAA6C;;;;;;;;;;;;0BAK5D,0PAAC;gBAAM,WAAU;;kCACf,0PAAC;wBAAK,WAAU;kCAAwD;;;;;;kCACxE,0PAAC;wBACC,MAAK;wBACL,aAAY;wBACZ,OAAO;wBACP,UAAU,CAAC,QAAU,SAAS,MAAM,MAAM,CAAC,KAAK;wBAChD,WAAU;;;;;;;;;;;;0BAId,0PAAC;gBAAI,WAAU;0BACb,cAAA,0PAAC;oBAAG,WAAU;8BACX,SAAS,GAAG,CAAC,CAAC;wBACb,MAAM,SAAS,QAAQ,EAAE,KAAK;wBAC9B,qBACE,0PAAC;sCACC,cAAA,0PAAC;gCACC,MAAK;gCACL,SAAS,IAAM,SAAS,QAAQ,EAAE;gCAClC,WAAW,CAAC,wEAAwE,EAClF,SACI,iDACA,uKACJ;;kDAEF,0PAAC;wCAAI,WAAU;;0DACb,0PAAC;gDAAK,WAAU;0DAAoD,QAAQ,IAAI;;;;;;0DAChF,0PAAC;gDAAK,WAAU;0DACb,QAAQ,QAAQ;;;;;;;;;;;;kDAGrB,0PAAC;wCAAE,WAAU;kDACV,QAAQ,WAAW;;;;;;kDAEtB,0PAAC;wCAAE,WAAU;kDAAmD,QAAQ,WAAW;;;;;;;;;;;;2BAnB9E,QAAQ,EAAE;;;;;oBAuBvB;;;;;;;;;;;;;;;;;AAKV;uCAEe","debugId":null}},
    {"offset": {"line": 336, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/lingm/Downloads/Spaceapps%20photo/frontend/src/components/MapViewport.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { useCallback, useEffect, useMemo, useRef, useState } from \"react\";\r\nimport { useLayoutEffect } from \"react\";\r\n\r\nimport maplibregl from \"maplibre-gl\";\r\nimport type { Map as MapLibreMap } from \"maplibre-gl\";\r\nimport \"maplibre-gl/dist/maplibre-gl.css\";\r\n\r\nimport { DATASET_LOOKUP, DATASETS } from \"@/data/datasets\";\r\nimport useTranslations from \"@/hooks/useTranslations\";\r\nimport type { DatasetDefinition } from \"@/types/datasets\";\r\n\r\nexport type MapViewportProps = {\r\n  datasetId?: string;\r\n  previewUrl?: string | null;\r\n  layerName?: string;\r\n  timestamp?: string;\r\n  metadata?: string;\r\n  attribution?: string;\r\n  onDatasetChange?: (dataset: DatasetDefinition) => void;\r\n  className?: string;\r\n  availableDates?: string[];\r\n  onDateChange?: (date: string | undefined) => void;\r\n};\r\n\r\nconst DATASET_SOURCE_PREFIX = \"dataset-source-\";\r\nconst DATASET_LAYER_PREFIX = \"dataset-layer-\";\r\nconst OVERLAY_SOURCE_PREFIX = \"overlay-source-\";\r\nconst OVERLAY_LAYER_PREFIX = \"overlay-layer-\";\r\n\r\nexport function MapViewport({\r\n  datasetId = DATASETS[0]?.id ?? \"earth-true-color\",\r\n  previewUrl,\r\n  layerName,\r\n  timestamp,\r\n  metadata,\r\n  attribution,\r\n  onDatasetChange,\r\n  className,\r\n  availableDates,\r\n  onDateChange,\r\n}: MapViewportProps) {\r\n  const t = useTranslations(\"map\");\r\n  const containerRef = useRef<HTMLDivElement | null>(null);\r\n  const mapRef = useRef<MapLibreMap | null>(null);\r\n\r\n  const [selectedDatasetId, setSelectedDatasetId] = useState(datasetId);\r\n  const [selectedDate, setSelectedDate] = useState<string | undefined>(\r\n    DATASET_LOOKUP.get(datasetId)?.defaultDate,\r\n  );\r\n  const [overlaySelection, setOverlaySelection] = useState<Record<string, boolean>>({});\r\n  const [mapReady, setMapReady] = useState(false);\r\n\r\n  const dataset = useMemo(() => DATASET_LOOKUP.get(selectedDatasetId), [selectedDatasetId]);\r\n\r\n  // initialise map once\r\n  useEffect(() => {\r\n    if (!containerRef.current || mapRef.current) return;\r\n\r\n    const initialDataset = DATASET_LOOKUP.get(datasetId) ?? DATASETS[0];\r\n    const map = new maplibregl.Map({\r\n      container: containerRef.current,\r\n      style: {\r\n        version: 8,\r\n        sources: {},\r\n        layers: [\r\n          {\r\n            id: \"background\",\r\n            type: \"background\",\r\n            paint: { \"background-color\": \"#020617\" },\r\n          },\r\n        ],\r\n      },\r\n      center: initialDataset?.initialView.center ?? [0, 0],\r\n      zoom: initialDataset?.initialView.zoom ?? 2,\r\n      minZoom: initialDataset?.minZoom ?? 0,\r\n      maxZoom: initialDataset?.maxZoom ?? 14,\r\n      attributionControl: true,\r\n    });\r\n\r\n    map.on(\"load\", () => setMapReady(true));\r\n    mapRef.current = map;\r\n\r\n    return () => {\r\n      map.off(\"load\", () => setMapReady(true));\r\n      map.remove();\r\n      mapRef.current = null;\r\n    };\r\n  }, [datasetId]);\r\n\r\n  // update overlay defaults when dataset changes\r\n  useEffect(() => {\r\n    if (!dataset) return;\r\n    const defaultDate = dataset.defaultDate ?? availableDates?.[0];\r\n    setSelectedDate(defaultDate);\r\n    setOverlaySelection(\r\n      Object.fromEntries(dataset.overlays?.map((overlay) => [overlay.id, true]) ?? []),\r\n    );\r\n    onDatasetChange?.(dataset);\r\n    onDateChange?.(defaultDate);\r\n  }, [dataset, onDatasetChange, availableDates, onDateChange]);\r\n\r\n  const clearDatasetLayers = useCallback((map: MapLibreMap) => {\r\n    const style = map.getStyle();\r\n    if (!style) return;\r\n\r\n    style.layers\r\n      ?.map((layer) => layer.id)\r\n      .filter((id: string) => id.startsWith(DATASET_LAYER_PREFIX) || id.startsWith(OVERLAY_LAYER_PREFIX))\r\n      .forEach((layerId: string) => {\r\n        if (map.getLayer(layerId)) {\r\n          map.removeLayer(layerId);\r\n        }\r\n      });\r\n\r\n    Object.keys(style.sources ?? {})\r\n      .filter((id: string) => id.startsWith(DATASET_SOURCE_PREFIX) || id.startsWith(OVERLAY_SOURCE_PREFIX))\r\n      .forEach((sourceId: string) => {\r\n        if (map.getSource(sourceId)) {\r\n          map.removeSource(sourceId);\r\n        }\r\n      });\r\n  }, []);\r\n\r\n  const applyDatasetToMap = useCallback(\r\n    (map: MapLibreMap, targetDataset: DatasetDefinition, date?: string) => {\r\n      const tileUrls = targetDataset.getTileUrls({ date });\r\n      const sourceId = `${DATASET_SOURCE_PREFIX}${targetDataset.id}`;\r\n      const layerId = `${DATASET_LAYER_PREFIX}${targetDataset.id}`;\r\n\r\n      map.addSource(sourceId, {\r\n        type: \"raster\",\r\n        tiles: tileUrls,\r\n        tileSize: targetDataset.tileSize ?? 256,\r\n      });\r\n\r\n      map.addLayer({\r\n        id: layerId,\r\n        type: \"raster\",\r\n        source: sourceId,\r\n        paint: {\r\n          \"raster-opacity\": 0.85,\r\n        },\r\n      });\r\n\r\n      targetDataset.overlays\r\n        ?.filter((overlay) => overlaySelection[overlay.id] ?? true)\r\n        .forEach((overlay) => {\r\n          const overlaySource = `${OVERLAY_SOURCE_PREFIX}${targetDataset.id}-${overlay.id}`;\r\n          const overlayLayer = `${OVERLAY_LAYER_PREFIX}${targetDataset.id}-${overlay.id}`;\r\n\r\n          map.addSource(overlaySource, {\r\n            type: \"raster\",\r\n            tiles: overlay.getTileUrls({ date }),\r\n            tileSize: targetDataset.tileSize ?? 256,\r\n          });\r\n\r\n          map.addLayer({\r\n            id: overlayLayer,\r\n            type: \"raster\",\r\n            source: overlaySource,\r\n            paint: {\r\n              \"raster-opacity\": overlay.opacity ?? 0.6,\r\n            },\r\n          });\r\n        });\r\n    },\r\n    [overlaySelection],\r\n  );\r\n\r\n  // refresh map when dataset/time/overlay changes\r\n  useEffect(() => {\r\n    const map = mapRef.current;\r\n    if (!map || !dataset) return;\r\n\r\n    const refresh = () => {\r\n      clearDatasetLayers(map);\r\n      applyDatasetToMap(map, dataset, selectedDate);\r\n      if (dataset.initialView) {\r\n        map.easeTo({ center: dataset.initialView.center, zoom: dataset.initialView.zoom, duration: 500 });\r\n      }\r\n    };\r\n\r\n    if (mapReady) {\r\n      refresh();\r\n    } else {\r\n      map.once(\"load\", refresh);\r\n    }\r\n  }, [dataset, selectedDate, overlaySelection, mapReady, clearDatasetLayers, applyDatasetToMap]);\r\n\r\n  useLayoutEffect(() => {\r\n    if (!mapReady || !mapRef.current) return;\r\n    mapRef.current.resize();\r\n  }, [mapReady]);\r\n\r\n  useEffect(() => {\r\n    if (!mapReady || !containerRef.current || !mapRef.current) return;\r\n    const map = mapRef.current;\r\n    const observer = new ResizeObserver(() => {\r\n      map.resize();\r\n    });\r\n    observer.observe(containerRef.current);\r\n\r\n    return () => observer.disconnect();\r\n  }, [mapReady]);\r\n\r\n  const infoItems = useMemo(() => {\r\n    return [\r\n      layerName ? `${t.layerPrefix}: ${layerName}` : dataset?.name ?? null,\r\n      timestamp\r\n        ? `${t.timePrefix}: ${new Date(timestamp).toUTCString()}`\r\n        : dataset?.supportsTime\r\n        ? `${t.timePrefix}: ${selectedDate ?? dataset?.defaultDate ?? \"\"}`\r\n        : null,\r\n      metadata ? `${t.metadataPrefix}: ${metadata}` : dataset?.description ?? null,\r\n    ].filter((item): item is string => Boolean(item));\r\n  }, [\r\n    dataset?.name,\r\n    dataset?.description,\r\n    dataset?.supportsTime,\r\n    dataset?.defaultDate,\r\n    selectedDate,\r\n    layerName,\r\n    timestamp,\r\n    metadata,\r\n    t,\r\n  ]);\r\n\r\n  const handleDatasetSelect = (event: React.ChangeEvent<HTMLSelectElement>) => {\r\n    setSelectedDatasetId(event.target.value);\r\n  };\r\n\r\n  const handleDateChange = (event: React.ChangeEvent<HTMLSelectElement>) => {\r\n    const value = event.target.value || undefined;\r\n    setSelectedDate(value);\r\n    onDateChange?.(value);\r\n  };\r\n\r\n  const handleOverlayToggle = (overlayId: string) => {\r\n    setOverlaySelection((prev) => ({ ...prev, [overlayId]: !prev[overlayId] }));\r\n  };\r\n\r\n  const defaultHeightClasses = className ? \"\" : \"h-[520px] md:h-[580px] lg:h-[640px]\";\r\n  const containerClasses = [\r\n    \"relative flex flex-1 flex-col overflow-hidden rounded-3xl border border-slate-900/30 bg-slate-950 text-slate-100 shadow-xl shadow-slate-900/40\",\r\n    defaultHeightClasses,\r\n    className,\r\n  ]\r\n    .filter(Boolean)\r\n    .join(\" \");\r\n\r\n  return (\r\n    <section className={containerClasses}>\r\n      <div className=\"relative z-20 flex flex-wrap items-center justify-between gap-3 border-b border-white/10 bg-slate-950/85 px-4 py-3 text-xs backdrop-blur\">\r\n        <div className=\"flex flex-wrap items-center gap-4\">\r\n          <label className=\"flex items-center gap-2\">\r\n            <span className=\"text-[10px] uppercase tracking-[0.24em] text-slate-400\">Dataset</span>\r\n            <select\r\n              className=\"rounded-lg border border-white/20 bg-slate-900 px-2 py-1.5 text-xs text-slate-100 shadow-sm outline-none transition focus:border-blue-400 focus:ring-2 focus:ring-blue-500/40\"\r\n              value={selectedDatasetId}\r\n              onChange={handleDatasetSelect}\r\n            >\r\n              {DATASETS.map((item) => (\r\n                <option key={item.id} value={item.id}>\r\n                  {item.name}\r\n                </option>\r\n              ))}\r\n            </select>\r\n          </label>\r\n          {(dataset?.supportsTime || availableDates) && (\r\n            <label className=\"flex items-center gap-2\">\r\n              <span className=\"text-[10px] uppercase tracking-[0.24em] text-slate-400\">Date</span>\r\n              <select\r\n                className=\"rounded-lg border border-white/20 bg-slate-900 px-2 py-1.5 text-xs text-slate-100 shadow-sm outline-none transition focus:border-blue-400 focus:ring-2 focus:ring-blue-500/40\"\r\n                value={selectedDate ?? \"\"}\r\n                onChange={handleDateChange}\r\n              >\r\n                {(availableDates ?? dataset?.availableDates ?? []).map((date) => (\r\n                  <option key={date} value={date}>\r\n                    {date}\r\n                  </option>\r\n                ))}\r\n              </select>\r\n            </label>\r\n          )}\r\n        </div>\r\n        {dataset?.overlays && dataset.overlays.length > 0 && (\r\n          <div className=\"flex flex-wrap items-center gap-2 text-[11px] text-slate-300\">\r\n            <span className=\"text-[10px] uppercase tracking-[0.24em] text-slate-400\">Overlays</span>\r\n            {dataset.overlays.map((overlay) => (\r\n              <label key={overlay.id} className=\"flex items-center gap-1 rounded-lg border border-white/10 bg-white/5 px-2 py-1 backdrop-blur\">\r\n                <input\r\n                  type=\"checkbox\"\r\n                  className=\"h-3.5 w-3.5 rounded border-white/30 bg-slate-900 text-blue-500 focus:ring-blue-400\"\r\n                  checked={overlaySelection[overlay.id] ?? true}\r\n                  onChange={() => handleOverlayToggle(overlay.id)}\r\n                />\r\n                <span className=\"text-[11px]\">{overlay.name}</span>\r\n              </label>\r\n            ))}\r\n          </div>\r\n        )}\r\n      </div>\r\n\r\n      <div className=\"relative flex-1\">\r\n        <div ref={containerRef} className=\"h-full w-full\" />\r\n        {previewUrl && (\r\n          <div className=\"pointer-events-none absolute inset-0\">\r\n            <picture>\r\n              <img src={previewUrl} alt={layerName ?? \"Imagery preview\"} className=\"h-full w-full object-cover\" />\r\n            </picture>\r\n          </div>\r\n        )}\r\n        <div className=\"pointer-events-none absolute inset-x-0 bottom-0 z-20 bg-gradient-to-t from-slate-950/90 via-slate-950/10 to-transparent px-5 pb-4 pt-8\">\r\n          <div className=\"pointer-events-auto flex flex-col gap-2 rounded-2xl border border-white/15 bg-white/5 p-4 text-[12px] text-slate-200 backdrop-blur\">\r\n            <div className=\"flex items-start gap-3\">\r\n              <div>\r\n                <p className=\"text-[10px] uppercase tracking-[0.4em] text-slate-400\">{t.badge}</p>\r\n                <h2 className=\"text-lg font-semibold\">{dataset?.name ?? t.headingFallback}</h2>\r\n              </div>\r\n              {attribution || dataset?.attribution ? (\r\n                <span className=\"ml-auto rounded-full border border-white/10 bg-slate-900/80 px-3 py-1 text-[9px] uppercase tracking-[0.28em] text-slate-300\">\r\n                  {attribution ?? dataset?.attribution}\r\n                </span>\r\n              ) : null}\r\n            </div>\r\n            <ul className=\"space-y-1 text-slate-300\">\r\n              {infoItems.map((item) => (\r\n                <li key={item} className=\"flex items-start gap-3\">\r\n                  <span className=\"mt-1 inline-flex h-2 w-2 flex-shrink-0 rounded-full bg-blue-400\" />\r\n                  <span>{item}</span>\r\n                </li>\r\n              ))}\r\n              {dataset?.description && !metadata && (\r\n                <li className=\"text-[11px] text-slate-400\">{dataset.description}</li>\r\n              )}\r\n            </ul>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </section>\r\n  );\r\n}\r\n\r\nexport default MapViewport;\r\n\r\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 843, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/lingm/Downloads/Spaceapps%20photo/frontend/src/components/annotation/AnnotationPanel.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { useState } from \"react\";\r\n\r\nimport type { Annotation } from \"@/types/annotation\";\r\nimport type { DatasetDefinition } from \"@/types/datasets\";\r\n\r\ntype AnnotationPanelProps = {\r\n  dataset?: DatasetDefinition;\r\n  annotations: Annotation[];\r\n  onAdd: (annotation: Annotation) => void;\r\n  onSelect?: (annotation: Annotation) => void;\r\n  className?: string;\r\n};\r\n\r\nexport function AnnotationPanel({ dataset, annotations, onAdd, onSelect, className }: AnnotationPanelProps) {\r\n  const [title, setTitle] = useState(\"\");\r\n  const [description, setDescription] = useState(\"\");\r\n  const [lat, setLat] = useState(\"0\");\r\n  const [lon, setLon] = useState(\"0\");\r\n\r\n  const handleSubmit = (event: React.FormEvent<HTMLFormElement>) => {\r\n    event.preventDefault();\r\n    if (!dataset) return;\r\n\r\n    onAdd({\r\n      id: `annotation-${Date.now()}`,\r\n      title: title.trim() || `Marker ${annotations.length + 1}`,\r\n      description: description.trim() || undefined,\r\n      coordinates: {\r\n        lat: Number.parseFloat(lat) || 0,\r\n        lon: Number.parseFloat(lon) || 0,\r\n      },\r\n      datasetId: dataset.id,\r\n    });\r\n\r\n    setTitle(\"\");\r\n    setDescription(\"\");\r\n    setLat(\"0\");\r\n    setLon(\"0\");\r\n  };\r\n\r\n  const baseClasses =\r\n    \"flex h-full w-full flex-col gap-4 rounded-2xl border border-slate-200 bg-white/90 p-5 text-slate-700 shadow-sm backdrop-blur dark:border-slate-800 dark:bg-slate-900/70 dark:text-slate-200\";\r\n  const containerClasses = [baseClasses, className ? \"\" : \"min-h-[360px]\", className]\r\n    .filter(Boolean)\r\n    .join(\" \");\r\n\r\n  return (\r\n    <section className={containerClasses} aria-label=\"Annotations\">\r\n      <header className=\"space-y-1\">\r\n        <h2 className=\"text-base font-semibold text-slate-900 dark:text-slate-100\">Annotations</h2>\r\n        <p className=\"text-xs text-slate-500 dark:text-slate-400\">\r\n          Tag interesting features, patterns, or events for this dataset.\r\n        </p>\r\n      </header>\r\n\r\n      <form className=\"grid gap-2 text-sm\" onSubmit={handleSubmit}>\r\n        <label className=\"grid min-w-0 gap-1\">\r\n          <span className=\"text-[11px] uppercase tracking-[0.24em] text-slate-400\">Title</span>\r\n          <input\r\n            value={title}\r\n            onChange={(event) => setTitle(event.target.value)}\r\n            placeholder=\"Aurora filament, crater rim, etc.\"\r\n            className=\"w-full rounded-lg border border-slate-200 bg-white px-3 py-2 text-sm text-slate-900 shadow-sm focus:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-200 dark:border-slate-700 dark:bg-slate-900 dark:text-slate-100\"\r\n          />\r\n        </label>\r\n\r\n        <label className=\"grid min-w-0 gap-1 text-xs\">\r\n          <span className=\"text-[11px] uppercase tracking-[0.24em] text-slate-400\">Description</span>\r\n          <textarea\r\n            value={description}\r\n            onChange={(event) => setDescription(event.target.value)}\r\n            placeholder=\"Observation notes, scientific context, or hypotheses\"\r\n            className=\"min-h-[80px] w-full rounded-lg border border-slate-200 bg-white px-3 py-2 text-sm text-slate-900 shadow-sm focus:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-200 dark:border-slate-700 dark:bg-slate-900 dark:text-slate-100\"\r\n          />\r\n        </label>\r\n\r\n        <div className=\"grid grid-cols-1 gap-2 sm:grid-cols-2\">\r\n          <label className=\"grid min-w-0 gap-1\">\r\n            <span className=\"text-[11px] uppercase tracking-[0.24em] text-slate-400\">Latitude</span>\r\n            <input\r\n              value={lat}\r\n              onChange={(event) => setLat(event.target.value)}\r\n              className=\"w-full rounded-lg border border-slate-200 bg-white px-2 py-2 text-sm text-slate-900 shadow-sm focus:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-200 dark:border-slate-700 dark:bg-slate-900 dark:text-slate-100\"\r\n            />\r\n          </label>\r\n          <label className=\"grid min-w-0 gap-1\">\r\n            <span className=\"text-[11px] uppercase tracking-[0.24em] text-slate-400\">Longitude</span>\r\n            <input\r\n              value={lon}\r\n              onChange={(event) => setLon(event.target.value)}\r\n              className=\"w-full rounded-lg border border-slate-200 bg-white px-2 py-2 text-sm text-slate-900 shadow-sm focus:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-200 dark:border-slate-700 dark:bg-slate-900 dark:text-slate-100\"\r\n            />\r\n          </label>\r\n        </div>\r\n\r\n        <button\r\n          type=\"submit\"\r\n          disabled={!dataset}\r\n          className=\"mt-3 inline-flex items-center justify-center gap-2 rounded-lg bg-blue-600 px-4 py-2 text-sm font-semibold text-white shadow transition-colors hover:bg-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-200 disabled:cursor-not-allowed disabled:bg-blue-400\"\r\n        >\r\n          Add annotation\r\n        </button>\r\n      </form>\r\n\r\n      <div className=\"flex-1 overflow-y-auto pr-1 text-sm\">\r\n        <ul className=\"space-y-3\">\r\n          {annotations\r\n            .filter((annotation) => annotation.datasetId === dataset?.id)\r\n            .map((annotation) => (\r\n              <li key={annotation.id}>\r\n                <button\r\n                  type=\"button\"\r\n                  onClick={() => onSelect?.(annotation)}\r\n                  className=\"w-full rounded-xl border border-slate-200 bg-white p-3 text-left shadow-sm transition hover:border-blue-400/80 hover:bg-blue-50 dark:border-slate-800 dark:bg-slate-950 dark:hover:border-blue-400/60 dark:hover:bg-blue-500/15\"\r\n                >\r\n                  <div className=\"flex items-center justify-between gap-3\">\r\n                    <span className=\"font-semibold text-slate-900 dark:text-slate-100\">{annotation.title}</span>\r\n                    <span className=\"text-[10px] uppercase tracking-wide text-slate-500 dark:text-slate-400\">\r\n                      {annotation.coordinates.lat.toFixed(2)}, {annotation.coordinates.lon.toFixed(2)}\r\n                    </span>\r\n                  </div>\r\n                  {annotation.description && (\r\n                    <p className=\"mt-2 text-xs text-slate-500 dark:text-slate-400\">{annotation.description}</p>\r\n                  )}\r\n                  {annotation.timestamp && (\r\n                    <p className=\"mt-2 text-[11px] text-slate-400\">{annotation.timestamp}</p>\r\n                  )}\r\n                </button>\r\n              </li>\r\n            ))}\r\n        </ul>\r\n      </div>\r\n    </section>\r\n  );\r\n}\r\n\r\nexport default AnnotationPanel;\r\n\r\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 1135, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/lingm/Downloads/Spaceapps%20photo/frontend/src/components/annotation/index.ts"],"sourcesContent":["export type { Annotation } from \"@/types/annotation\";\r\nexport { AnnotationPanel } from \"./AnnotationPanel\";\r\n\r\n"],"names":[],"mappings":";AACA","debugId":null}},
    {"offset": {"line": 1142, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/lingm/Downloads/Spaceapps%20photo/frontend/src/hooks/useTranslation.ts"],"sourcesContent":["\"use client\";\r\n\r\nimport { useState } from \"react\";\r\n\r\ntype TranslationPayload = {\r\n  text: string;\r\n  target_language: string;\r\n};\r\n\r\ntype TranslationResult = {\r\n  provider: string;\r\n  text: string;\r\n  target_language: string;\r\n  status: string;\r\n  note?: string | null;\r\n  detected_source_language?: string | null;\r\n};\r\n\r\nexport default function useTranslation() {\r\n  const [result, setResult] = useState<TranslationResult | null>(null);\r\n  const [isLoading, setIsLoading] = useState(false);\r\n  const [error, setError] = useState<string | null>(null);\r\n\r\n  const requestTranslation = async (payload: TranslationPayload) => {\r\n    setIsLoading(true);\r\n    setError(null);\r\n\r\n    try {\r\n      const response = await fetch(\"/api/translate\", {\r\n        method: \"POST\",\r\n        headers: { \"Content-Type\": \"application/json\" },\r\n        body: JSON.stringify(payload),\r\n      });\r\n\r\n      if (!response.ok) {\r\n        const message = await response.text();\r\n        throw new Error(message || \"Translation request failed\");\r\n      }\r\n\r\n      const data = (await response.json()) as TranslationResult;\r\n\r\n      if (data.status !== \"success\") {\r\n        setError(data.note ?? \"Translation failed\");\r\n      }\r\n\r\n      setResult(data);\r\n    } catch (err) {\r\n      setError(err instanceof Error ? err.message : \"Unknown error\");\r\n    } finally {\r\n      setIsLoading(false);\r\n    }\r\n  };\r\n\r\n  return {\r\n    result,\r\n    isLoading,\r\n    error,\r\n    requestTranslation,\r\n  };\r\n}\r\n\r\n\r\n"],"names":[],"mappings":";;;;AAEA;AAFA;;AAkBe,SAAS;IACtB,MAAM,CAAC,QAAQ,UAAU,GAAG,IAAA,6NAAQ,EAA2B;IAC/D,MAAM,CAAC,WAAW,aAAa,GAAG,IAAA,6NAAQ,EAAC;IAC3C,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,6NAAQ,EAAgB;IAElD,MAAM,qBAAqB,OAAO;QAChC,aAAa;QACb,SAAS;QAET,IAAI;YACF,MAAM,WAAW,MAAM,MAAM,kBAAkB;gBAC7C,QAAQ;gBACR,SAAS;oBAAE,gBAAgB;gBAAmB;gBAC9C,MAAM,KAAK,SAAS,CAAC;YACvB;YAEA,IAAI,CAAC,SAAS,EAAE,EAAE;gBAChB,MAAM,UAAU,MAAM,SAAS,IAAI;gBACnC,MAAM,IAAI,MAAM,WAAW;YAC7B;YAEA,MAAM,OAAQ,MAAM,SAAS,IAAI;YAEjC,IAAI,KAAK,MAAM,KAAK,WAAW;gBAC7B,SAAS,KAAK,IAAI,IAAI;YACxB;YAEA,UAAU;QACZ,EAAE,OAAO,KAAK;YACZ,SAAS,eAAe,QAAQ,IAAI,OAAO,GAAG;QAChD,SAAU;YACR,aAAa;QACf;IACF;IAEA,OAAO;QACL;QACA;QACA;QACA;IACF;AACF","debugId":null}},
    {"offset": {"line": 1190, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/lingm/Downloads/Spaceapps%20photo/frontend/src/components/TranslationWidget.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { useEffect, useMemo, useState } from \"react\";\r\n\r\nimport useTranslation from \"@/hooks/useTranslation\";\r\nimport useTranslations from \"@/hooks/useTranslations\";\r\n\r\nconst LANGUAGE_OPTIONS = [\r\n  { value: \"EN\", label: \"English\" },\r\n  { value: \"JA\", label: \"日本語\" },\r\n  { value: \"FR\", label: \"Français\" },\r\n  { value: \"DE\", label: \"Deutsch\" },\r\n  { value: \"ES\", label: \"Español\" },\r\n];\r\n\r\nexport default function TranslationWidget() {\r\n  const [text, setText] = useState(\"\");\r\n  const [targetLanguage, setTargetLanguage] = useState(\"EN\");\r\n  const { result, isLoading, error, requestTranslation } = useTranslation();\r\n  const t = useTranslations(\"translationWidget\");\r\n  const [buttonAnimation, setButtonAnimation] = useState<\"idle\" | \"press\" | \"release\">(\"idle\");\r\n\r\n  useEffect(() => {\r\n    const textarea = document.getElementById(\"translation-textarea\");\r\n    if (textarea) {\r\n      textarea.setAttribute(\"aria-label\", t.sourceLabel);\r\n    }\r\n  }, [t.sourceLabel]);\r\n\r\n  const handleTranslate = async () => {\r\n    if (!text.trim()) return;\r\n    setButtonAnimation(\"press\");\r\n    await requestTranslation({ text, target_language: targetLanguage });\r\n    setButtonAnimation(\"release\");\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (buttonAnimation === \"release\") {\r\n      const timeout = window.setTimeout(() => setButtonAnimation(\"idle\"), 500);\r\n      return () => window.clearTimeout(timeout);\r\n    }\r\n  }, [buttonAnimation]);\r\n\r\n  const iconPath = useMemo(() => {\r\n    return buttonAnimation === \"press\"\r\n      ? \"M12 3.25a8.75 8.75 0 1 0 8.75 8.75A8.76 8.76 0 0 0 12 3.25Zm0 15a6.25 6.25 0 1 1 6.25-6.25A6.26 6.26 0 0 1 12 18.25Zm0-10.5a4.25 4.25 0 0 0-3.39 6.77l-1.68 1.68a.75.75 0 0 0 1.06 1.06l1.68-1.68A4.25 4.25 0 1 0 12 7.75Zm0 6.5a2.25 2.25 0 1 1 2.25-2.25A2.25 2.25 0 0 1 12 14.25Z\"\r\n      : \"M12 2a10 10 0 1 0 5.7 18.19l1.74 1.74a.75.75 0 0 0 1.06-1.06l-1.74-1.74A10 10 0 0 0 12 2Zm0 18.5a8.5 8.5 0 1 1 5.15-15.33.75.75 0 0 0 .09.9l1.21 1.21A8.5 8.5 0 0 1 12 20.5Zm4-8.5a4 4 0 1 1-4-4 .75.75 0 0 0 0-1.5 5.5 5.5 0 1 0 5.5 5.5.75.75 0 0 0-1.5 0Z\";\r\n  }, [buttonAnimation]);\r\n\r\n  return (\r\n    <section className=\"grid gap-4 rounded-lg border border-slate-200 bg-white/80 p-4 text-sm text-slate-600 shadow-sm backdrop-blur-md dark:border-slate-800 dark:bg-slate-900/70 dark:text-slate-300\">\r\n      <header className=\"flex items-center justify-between\">\r\n        <div>\r\n          <h2 className=\"text-base font-semibold text-slate-900 dark:text-slate-100\">\r\n            {t.title}\r\n          </h2>\r\n          <p className=\"text-xs text-slate-500 dark:text-slate-400\">\r\n            {t.subtitle}\r\n          </p>\r\n        </div>\r\n      </header>\r\n\r\n      <label className=\"grid gap-1 text-xs uppercase tracking-widest text-slate-500 dark:text-slate-400\">\r\n        {t.sourceLabel}\r\n        <textarea\r\n          id=\"translation-textarea\"\r\n          className=\"min-h-[120px] rounded-md border border-slate-300 bg-white px-3 py-2 text-sm text-slate-900 shadow-sm focus:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-200 dark:border-slate-700 dark:bg-slate-900 dark:text-slate-100\"\r\n          value={text}\r\n          onChange={(event) => setText(event.target.value)}\r\n          placeholder={t.placeholder}\r\n        />\r\n      </label>\r\n\r\n      <div className=\"flex flex-wrap items-center gap-3\">\r\n        <label className=\"flex flex-col text-xs uppercase tracking-widest text-slate-500 dark:text-slate-400\">\r\n          {t.targetLabel}\r\n          <select\r\n            className=\"mt-1 rounded-md border border-slate-300 bg-white px-3 py-2 text-sm text-slate-900 shadow-sm focus:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-200 dark:border-slate-700 dark:bg-slate-900 dark:text-slate-100\"\r\n            value={targetLanguage}\r\n            onChange={(event) => setTargetLanguage(event.target.value)}\r\n          >\r\n            {LANGUAGE_OPTIONS.map((option) => (\r\n              <option key={option.value} value={option.value}>\r\n                {option.label}\r\n              </option>\r\n            ))}\r\n          </select>\r\n        </label>\r\n\r\n        <button\r\n          type=\"button\"\r\n          className={`ml-auto inline-flex items-center gap-3 rounded-2xl border border-blue-400/70 bg-gradient-to-r from-blue-600 via-cyan-500 to-blue-500 px-5 py-2 text-sm font-semibold text-white shadow-lg shadow-blue-500/30 transition-all focus:outline-none focus:ring-2 focus:ring-blue-200 disabled:cursor-not-allowed disabled:border-blue-300 disabled:bg-slate-400/60 disabled:text-slate-200 ${\r\n            buttonAnimation === \"press\" ? \"translate-press-animate\" : buttonAnimation === \"release\" ? \"translate-release-animate\" : \"hover:scale-[1.02] hover:shadow-blue-400/50\"\r\n          }`}\r\n          onClick={handleTranslate}\r\n          onAnimationEnd={(event) => {\r\n            if (event.animationName.includes(\"press\") && buttonAnimation === \"press\") {\r\n              setButtonAnimation(\"release\");\r\n            }\r\n            if (event.animationName.includes(\"release\") && buttonAnimation === \"release\") {\r\n              setButtonAnimation(\"idle\");\r\n            }\r\n          }}\r\n          disabled={isLoading || !text.trim()}\r\n        >\r\n          <span\r\n            className=\"relative inline-flex h-8 w-8 items-center justify-center rounded-full border border-white/40 bg-white/20 shadow-inner shadow-white/30 backdrop-blur transition-transform duration-300\"\r\n          >\r\n            <svg\r\n              className={`h-4 w-4 text-white transition-transform duration-300 ${buttonAnimation === \"press\" ? \"rotate-180\" : buttonAnimation === \"release\" ? \"rotate-0\" : \"\"}`}\r\n              viewBox=\"0 0 24 24\"\r\n              fill=\"currentColor\"\r\n              aria-hidden=\"true\"\r\n            >\r\n              <path d={iconPath} />\r\n            </svg>\r\n          </span>\r\n          <span>{isLoading ? t.buttonLoading : t.button}</span>\r\n          <span className=\"inline-flex h-2 w-8 items-center justify-end gap-1\">\r\n            <span className=\"h-2 w-2 rounded-full bg-white/90 shadow\" />\r\n            <span className=\"h-2 w-2 rounded-full bg-white/60 shadow\" />\r\n          </span>\r\n        </button>\r\n      </div>\r\n\r\n      {error && (\r\n        <p className=\"rounded-md border border-red-200 bg-red-50 px-3 py-2 text-xs text-red-700 dark:border-red-900/50 dark:bg-red-900/30 dark:text-red-200\">\r\n          {error}\r\n        </p>\r\n      )}\r\n\r\n      {result && (\r\n        <div className=\"grid gap-2 rounded-md border border-slate-200 bg-white/70 p-3 text-xs text-slate-600 shadow-sm dark:border-slate-800 dark:bg-slate-900/60 dark:text-slate-300\">\r\n          <div className=\"flex items-center justify-between\">\r\n            <span className=\"font-semibold text-slate-900 dark:text-slate-100\">{result.target_language}</span>\r\n            <span className=\"rounded bg-slate-200 px-2 py-1 text-[10px] font-semibold uppercase tracking-widest text-slate-600 dark:bg-slate-800 dark:text-slate-300\">\r\n              {result.provider}\r\n            </span>\r\n          </div>\r\n          {result.detected_source_language && (\r\n            <p className=\"text-[11px] text-slate-500 dark:text-slate-400\">\r\n              {t.detectedLabel}: {result.detected_source_language}\r\n            </p>\r\n          )}\r\n          <p className=\"text-sm leading-6 text-slate-700 dark:text-slate-200\">{result.text}</p>\r\n          {result.note && (\r\n            <p className=\"text-[11px] text-slate-500 dark:text-slate-400\">{result.note}</p>\r\n          )}\r\n        </div>\r\n      )}\r\n    </section>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;;AAEA;AAEA;AACA;AALA;;;;;AAOA,MAAM,mBAAmB;IACvB;QAAE,OAAO;QAAM,OAAO;IAAU;IAChC;QAAE,OAAO;QAAM,OAAO;IAAM;IAC5B;QAAE,OAAO;QAAM,OAAO;IAAW;IACjC;QAAE,OAAO;QAAM,OAAO;IAAU;IAChC;QAAE,OAAO;QAAM,OAAO;IAAU;CACjC;AAEc,SAAS;IACtB,MAAM,CAAC,MAAM,QAAQ,GAAG,IAAA,6NAAQ,EAAC;IACjC,MAAM,CAAC,gBAAgB,kBAAkB,GAAG,IAAA,6NAAQ,EAAC;IACrD,MAAM,EAAE,MAAM,EAAE,SAAS,EAAE,KAAK,EAAE,kBAAkB,EAAE,GAAG,IAAA,qJAAc;IACvE,MAAM,IAAI,IAAA,sJAAe,EAAC;IAC1B,MAAM,CAAC,iBAAiB,mBAAmB,GAAG,IAAA,6NAAQ,EAA+B;IAErF,IAAA,8NAAS,EAAC;QACR,MAAM,WAAW,SAAS,cAAc,CAAC;QACzC,IAAI,UAAU;YACZ,SAAS,YAAY,CAAC,cAAc,EAAE,WAAW;QACnD;IACF,GAAG;QAAC,EAAE,WAAW;KAAC;IAElB,MAAM,kBAAkB;QACtB,IAAI,CAAC,KAAK,IAAI,IAAI;QAClB,mBAAmB;QACnB,MAAM,mBAAmB;YAAE;YAAM,iBAAiB;QAAe;QACjE,mBAAmB;IACrB;IAEA,IAAA,8NAAS,EAAC;QACR,IAAI,oBAAoB,WAAW;YACjC,MAAM,UAAU,OAAO,UAAU,CAAC,IAAM,mBAAmB,SAAS;YACpE,OAAO,IAAM,OAAO,YAAY,CAAC;QACnC;IACF,GAAG;QAAC;KAAgB;IAEpB,MAAM,WAAW,IAAA,4NAAO,EAAC;QACvB,OAAO,oBAAoB,UACvB,yRACA;IACN,GAAG;QAAC;KAAgB;IAEpB,qBACE,0PAAC;QAAQ,WAAU;;0BACjB,0PAAC;gBAAO,WAAU;0BAChB,cAAA,0PAAC;;sCACC,0PAAC;4BAAG,WAAU;sCACX,EAAE,KAAK;;;;;;sCAEV,0PAAC;4BAAE,WAAU;sCACV,EAAE,QAAQ;;;;;;;;;;;;;;;;;0BAKjB,0PAAC;gBAAM,WAAU;;oBACd,EAAE,WAAW;kCACd,0PAAC;wBACC,IAAG;wBACH,WAAU;wBACV,OAAO;wBACP,UAAU,CAAC,QAAU,QAAQ,MAAM,MAAM,CAAC,KAAK;wBAC/C,aAAa,EAAE,WAAW;;;;;;;;;;;;0BAI9B,0PAAC;gBAAI,WAAU;;kCACb,0PAAC;wBAAM,WAAU;;4BACd,EAAE,WAAW;0CACd,0PAAC;gCACC,WAAU;gCACV,OAAO;gCACP,UAAU,CAAC,QAAU,kBAAkB,MAAM,MAAM,CAAC,KAAK;0CAExD,iBAAiB,GAAG,CAAC,CAAC,uBACrB,0PAAC;wCAA0B,OAAO,OAAO,KAAK;kDAC3C,OAAO,KAAK;uCADF,OAAO,KAAK;;;;;;;;;;;;;;;;kCAO/B,0PAAC;wBACC,MAAK;wBACL,WAAW,CAAC,sXAAsX,EAChY,oBAAoB,UAAU,4BAA4B,oBAAoB,YAAY,8BAA8B,+CACxH;wBACF,SAAS;wBACT,gBAAgB,CAAC;4BACf,IAAI,MAAM,aAAa,CAAC,QAAQ,CAAC,YAAY,oBAAoB,SAAS;gCACxE,mBAAmB;4BACrB;4BACA,IAAI,MAAM,aAAa,CAAC,QAAQ,CAAC,cAAc,oBAAoB,WAAW;gCAC5E,mBAAmB;4BACrB;wBACF;wBACA,UAAU,aAAa,CAAC,KAAK,IAAI;;0CAEjC,0PAAC;gCACC,WAAU;0CAEV,cAAA,0PAAC;oCACC,WAAW,CAAC,qDAAqD,EAAE,oBAAoB,UAAU,eAAe,oBAAoB,YAAY,aAAa,IAAI;oCACjK,SAAQ;oCACR,MAAK;oCACL,eAAY;8CAEZ,cAAA,0PAAC;wCAAK,GAAG;;;;;;;;;;;;;;;;0CAGb,0PAAC;0CAAM,YAAY,EAAE,aAAa,GAAG,EAAE,MAAM;;;;;;0CAC7C,0PAAC;gCAAK,WAAU;;kDACd,0PAAC;wCAAK,WAAU;;;;;;kDAChB,0PAAC;wCAAK,WAAU;;;;;;;;;;;;;;;;;;;;;;;;YAKrB,uBACC,0PAAC;gBAAE,WAAU;0BACV;;;;;;YAIJ,wBACC,0PAAC;gBAAI,WAAU;;kCACb,0PAAC;wBAAI,WAAU;;0CACb,0PAAC;gCAAK,WAAU;0CAAoD,OAAO,eAAe;;;;;;0CAC1F,0PAAC;gCAAK,WAAU;0CACb,OAAO,QAAQ;;;;;;;;;;;;oBAGnB,OAAO,wBAAwB,kBAC9B,0PAAC;wBAAE,WAAU;;4BACV,EAAE,aAAa;4BAAC;4BAAG,OAAO,wBAAwB;;;;;;;kCAGvD,0PAAC;wBAAE,WAAU;kCAAwD,OAAO,IAAI;;;;;;oBAC/E,OAAO,IAAI,kBACV,0PAAC;wBAAE,WAAU;kCAAkD,OAAO,IAAI;;;;;;;;;;;;;;;;;;AAMtF","debugId":null}},
    {"offset": {"line": 1507, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/lingm/Downloads/Spaceapps%20photo/frontend/src/components/ResourcePanel.tsx"],"sourcesContent":["import TranslationWidget from \"@/components/TranslationWidget\";\r\nimport useTranslations from \"@/hooks/useTranslations\";\r\n\r\nexport function ResourcePanel() {\r\n  const t = useTranslations(\"resourcePanel\");\r\n\r\n  return (\r\n    <section className=\"grid gap-4 rounded-2xl border border-dashed border-slate-300 bg-white/80 p-5 text-sm text-slate-600 shadow-inner dark:border-slate-700 dark:bg-slate-900/60 dark:text-slate-300\">\r\n      <header className=\"flex items-center justify-between\">\r\n        <div>\r\n          <h2 className=\"text-base font-semibold text-slate-900 dark:text-slate-100\">\r\n            {t.title}\r\n          </h2>\r\n          <p className=\"text-xs text-slate-500 dark:text-slate-400\">\r\n            {t.subtitle}\r\n          </p>\r\n        </div>\r\n        <span className=\"rounded-full bg-slate-200 px-3 py-1 text-xs font-semibold uppercase tracking-wide text-slate-700 dark:bg-slate-800 dark:text-slate-300\">\r\n          {t.statusChip}\r\n        </span>\r\n      </header>\r\n\r\n      <ul className=\"grid gap-2\">\r\n        {t.items.map((item) => (\r\n          <li key={item.title} className=\"rounded-xl border border-slate-200 bg-white p-3 text-xs leading-5 text-slate-600 shadow-sm dark:border-slate-700 dark:bg-slate-950/60 dark:text-slate-300\">\r\n            <strong className=\"font-semibold text-slate-900 dark:text-slate-100\">\r\n              {item.title}\r\n            </strong>\r\n            <div>{item.description}</div>\r\n          </li>\r\n        ))}\r\n      </ul>\r\n\r\n      <TranslationWidget />\r\n\r\n      <div className=\"rounded-xl border border-slate-300 border-dashed bg-white/40 p-3 text-xs text-slate-500 dark:border-slate-700 dark:bg-slate-900/40 dark:text-slate-400\">\r\n        {t.footer}\r\n      </div>\r\n    </section>\r\n  );\r\n}\r\n\r\nexport default ResourcePanel;\r\n\r\n"],"names":[],"mappings":";;;;;;;AAAA;AACA;;;;AAEO,SAAS;IACd,MAAM,IAAI,IAAA,sJAAe,EAAC;IAE1B,qBACE,0PAAC;QAAQ,WAAU;;0BACjB,0PAAC;gBAAO,WAAU;;kCAChB,0PAAC;;0CACC,0PAAC;gCAAG,WAAU;0CACX,EAAE,KAAK;;;;;;0CAEV,0PAAC;gCAAE,WAAU;0CACV,EAAE,QAAQ;;;;;;;;;;;;kCAGf,0PAAC;wBAAK,WAAU;kCACb,EAAE,UAAU;;;;;;;;;;;;0BAIjB,0PAAC;gBAAG,WAAU;0BACX,EAAE,KAAK,CAAC,GAAG,CAAC,CAAC,qBACZ,0PAAC;wBAAoB,WAAU;;0CAC7B,0PAAC;gCAAO,WAAU;0CACf,KAAK,KAAK;;;;;;0CAEb,0PAAC;0CAAK,KAAK,WAAW;;;;;;;uBAJf,KAAK,KAAK;;;;;;;;;;0BASvB,0PAAC,8JAAiB;;;;;0BAElB,0PAAC;gBAAI,WAAU;0BACZ,EAAE,MAAM;;;;;;;;;;;;AAIjB;uCAEe","debugId":null}},
    {"offset": {"line": 1621, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/lingm/Downloads/Spaceapps%20photo/frontend/src/components/SearchPanel.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { useState } from \"react\";\r\n\r\nimport useTranslations from \"@/hooks/useTranslations\";\r\n\r\nconst LAYER_PRESETS = [\r\n  { key: \"modisTerra\", value: \"MODIS_Terra_CorrectedReflectance_TrueColor\" },\r\n  { key: \"blueMarble\", value: \"BlueMarble_NextGeneration\" },\r\n  { key: \"modisAqua\", value: \"MODIS_Aqua_CorrectedReflectance_TrueColor\" },\r\n];\r\n\r\ntype SearchPanelProps = {\r\n  onPreview: (params: {\r\n    bbox?: [number, number, number, number];\r\n    startDate?: string;\r\n    endDate?: string;\r\n    layer?: string;\r\n  }) => void;\r\n  isLoading?: boolean;\r\n  error?: string | null;\r\n  preview?: {\r\n    layer: string;\r\n    time: string;\r\n    bbox: [number, number, number, number];\r\n    source?: string;\r\n  } | null;\r\n};\r\n\r\nexport function SearchPanel({\r\n  onPreview,\r\n  isLoading = false,\r\n  error,\r\n  preview,\r\n}: SearchPanelProps) {\r\n  const t = useTranslations(\"searchPanel\");\r\n  const [activeMode, setActiveMode] = useState(t.modes[0]?.label ?? \"Coordinates\");\r\n  const [primaryInput, setPrimaryInput] = useState(\"\");\r\n  const [dateStart, setDateStart] = useState(\"\");\r\n  const [dateEnd, setDateEnd] = useState(\"\");\r\n  const [selectedLayer, setSelectedLayer] = useState(LAYER_PRESETS[0]?.value ?? \"\");\r\n\r\n  const handlePreview = () => {\r\n    const bbox = primaryInput\r\n      .split(\",\")\r\n      .map((value) => Number.parseFloat(value.trim()))\r\n      .filter(Number.isFinite);\r\n\r\n    onPreview({\r\n      bbox: bbox.length === 4 ? (bbox as [number, number, number, number]) : undefined,\r\n      startDate: dateStart,\r\n      endDate: dateEnd,\r\n      layer: selectedLayer,\r\n    });\r\n  };\r\n\r\n  return (\r\n    <section className=\"grid gap-5 overflow-hidden rounded-2xl border border-slate-200 bg-white/85 p-6 shadow-lg shadow-slate-200/40 backdrop-blur dark:border-slate-800 dark:bg-slate-900/70 dark:shadow-slate-900/30\">\r\n      <header className=\"flex flex-col gap-3 sm:flex-row sm:flex-wrap sm:items-start sm:justify-between\">\r\n        <div className=\"max-w-full\">\r\n          <h2 className=\"text-lg font-semibold text-slate-900 dark:text-slate-100\">\r\n            {t.title}\r\n          </h2>\r\n          <p className=\"text-sm text-slate-500 dark:text-slate-400\">\r\n            {t.subtitle}\r\n          </p>\r\n        </div>\r\n        <div className=\"flex flex-wrap gap-2\">\r\n          {t.modes.map((mode) => (\r\n            <button\r\n              key={mode.id}\r\n              type=\"button\"\r\n              className={`rounded-full px-3 py-1 text-sm font-medium transition-colors ${\r\n                activeMode === mode.label\r\n                  ? \"bg-blue-600 text-white shadow\"\r\n                  : \"bg-slate-200 text-slate-700 hover:bg-slate-300 dark:bg-slate-800 dark:text-slate-300 dark:hover:bg-slate-700\"\r\n              }`}\r\n              onClick={() => setActiveMode(mode.label)}\r\n            >\r\n              {mode.label}\r\n            </button>\r\n          ))}\r\n        </div>\r\n      </header>\r\n\r\n      <div className=\"grid gap-4\">\r\n        <label className=\"grid w-full min-w-0 gap-1 text-sm\">\r\n          <span className=\"font-medium text-slate-600 dark:text-slate-300\">\r\n            {t.primaryInputLabel}\r\n          </span>\r\n          <input\r\n            className=\"w-full rounded-xl border border-slate-300 bg-white px-3 py-2 text-sm text-slate-900 shadow-sm focus:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-200 dark:border-slate-700 dark:bg-slate-900 dark:text-slate-100\"\r\n            placeholder={\r\n              t.modes.find((mode) => mode.label === activeMode)?.placeholder ?? \"\"\r\n            }\r\n            value={primaryInput}\r\n            onChange={(event) => setPrimaryInput(event.target.value)}\r\n          />\r\n        </label>\r\n\r\n        <label className=\"grid w-full min-w-0 gap-1 text-sm\">\r\n          <span className=\"font-medium text-slate-600 dark:text-slate-300\">\r\n            {t.dateRangeLabel}\r\n          </span>\r\n          <div className=\"grid gap-2 sm:grid-cols-2\">\r\n            <input\r\n              type=\"date\"\r\n              className=\"w-full rounded-xl border border-slate-300 bg-white px-3 py-2 text-sm text-slate-900 shadow-sm focus:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-200 dark:border-slate-700 dark:bg-slate-900 dark:text-slate-100 sm:max-w-[200px]\"\r\n              value={dateStart}\r\n              onChange={(event) => setDateStart(event.target.value)}\r\n            />\r\n            <input\r\n              type=\"date\"\r\n              className=\"w-full rounded-xl border border-slate-300 bg-white px-3 py-2 text-sm text-slate-900 shadow-sm focus:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-200 dark:border-slate-700 dark:bg-slate-900 dark:text-slate-100 sm:max-w-[200px]\"\r\n              value={dateEnd}\r\n              onChange={(event) => setDateEnd(event.target.value)}\r\n            />\r\n          </div>\r\n        </label>\r\n\r\n        <label className=\"grid w-full min-w-0 gap-1 text-sm\">\r\n          <span className=\"font-medium text-slate-600 dark:text-slate-300\">\r\n            {t.layerLabel}\r\n          </span>\r\n          <select\r\n            className=\"w-full rounded-xl border border-slate-300 bg-white px-3 py-2 text-sm text-slate-900 shadow-sm focus:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-200 dark:border-slate-700 dark:bg-slate-900 dark:text-slate-100\"\r\n            value={selectedLayer}\r\n            onChange={(event) => setSelectedLayer(event.target.value)}\r\n          >\r\n            {LAYER_PRESETS.map((layer) => (\r\n              <option key={layer.value} value={layer.value}>\r\n                {t.layers[layer.key] ?? layer.value}\r\n              </option>\r\n            ))}\r\n          </select>\r\n        </label>\r\n\r\n        <div className=\"flex flex-col gap-2 sm:flex-row sm:items-center sm:justify-between\">\r\n          <div className=\"text-xs text-slate-500 dark:text-slate-400\">\r\n            {t.helper}\r\n          </div>\r\n          <button\r\n            type=\"button\"\r\n            className=\"inline-flex items-center gap-2 rounded-lg bg-blue-600 px-4 py-2 text-sm font-semibold text-white shadow transition-colors hover:bg-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-200 disabled:cursor-wait disabled:bg-blue-400\"\r\n            onClick={handlePreview}\r\n            disabled={isLoading}\r\n          >\r\n            {isLoading ? t.previewLoading : t.previewButton}\r\n          </button>\r\n        </div>\r\n        {error && (\r\n          <p className=\"rounded-lg border border-red-200 bg-red-50 px-3 py-2 text-xs text-red-700 dark:border-red-900/50 dark:bg-red-900/30 dark:text-red-200\">\r\n            {error}\r\n          </p>\r\n        )}\r\n\r\n        {preview && (\r\n          <div className=\"grid gap-1 rounded-xl border border-slate-200 bg-white/70 p-3 text-xs text-slate-600 shadow-sm dark:border-slate-800 dark:bg-slate-900/60 dark:text-slate-300\">\r\n            <span>\r\n              {t.summary.layer}: {preview.layer}\r\n            </span>\r\n            <span>\r\n              {t.summary.time}: {preview.time}\r\n            </span>\r\n            <span>\r\n              {t.summary.bbox}: {preview.bbox.join(\", \")}\r\n            </span>\r\n            {preview.source && (\r\n              <span>\r\n                {t.summary.source}: {preview.source}\r\n              </span>\r\n            )}\r\n          </div>\r\n        )}\r\n      </div>\r\n    </section>\r\n  );\r\n}\r\n\r\nexport default SearchPanel;\r\n\r\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 1935, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/lingm/Downloads/Spaceapps%20photo/frontend/src/components/TimelinePlayer.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { useState } from \"react\";\r\n\r\nimport useTranslations from \"@/hooks/useTranslations\";\r\n\r\nexport function TimelinePlayer() {\r\n  const t = useTranslations(\"timeline\");\r\n  const [activeId, setActiveId] = useState(t.events[0]?.id ?? \"\");\r\n\r\n  return (\r\n    <section className=\"grid gap-4 rounded-2xl border border-slate-200 bg-white/85 p-5 shadow-lg shadow-slate-200/40 backdrop-blur dark:border-slate-800 dark:bg-slate-900/70 dark:shadow-slate-900/30\">\r\n      <header className=\"flex items-center justify-between\">\r\n        <div>\r\n          <h2 className=\"text-base font-semibold text-slate-900 dark:text-slate-100\">\r\n            {t.title}\r\n          </h2>\r\n          <p className=\"text-xs text-slate-500 dark:text-slate-400\">\r\n            {t.subtitle}\r\n          </p>\r\n        </div>\r\n        <div className=\"flex gap-2 text-xs text-slate-600 dark:text-slate-300\">\r\n          <button className=\"rounded-lg border border-slate-200 bg-white px-3 py-1 shadow-sm transition-colors hover:bg-slate-100 dark:border-slate-700 dark:bg-slate-950 dark:hover:bg-slate-800\">\r\n            {t.prev}\r\n          </button>\r\n          <button className=\"rounded-lg border border-slate-200 bg-white px-3 py-1 shadow-sm transition-colors hover:bg-slate-100 dark:border-slate-700 dark:bg-slate-950 dark:hover:bg-slate-800\">\r\n            {t.next}\r\n          </button>\r\n        </div>\r\n      </header>\r\n\r\n      <div className=\"grid gap-2\">\r\n        <div className=\"relative h-2 rounded-full bg-slate-200 dark:bg-slate-800\">\r\n          <div\r\n            className=\"absolute h-full rounded-full bg-blue-500\"\r\n            style={{\r\n              width: `${\r\n                (t.events.findIndex((m) => m.id === activeId) /\r\n                  (Math.max(t.events.length - 1, 1))) *\r\n                100\r\n              }%`,\r\n            }}\r\n          />\r\n        </div>\r\n        <div className=\"flex justify-between text-xs text-slate-400 dark:text-slate-500\">\r\n          <span>{t.progressStart}</span>\r\n          <span>{t.progressEnd}</span>\r\n        </div>\r\n      </div>\r\n\r\n      <ul className=\"grid gap-2\">\r\n        {t.events.map((moment) => {\r\n          const active = moment.id === activeId;\r\n          return (\r\n            <li key={moment.id}>\r\n              <button\r\n                type=\"button\"\r\n                onClick={() => setActiveId(moment.id)}\r\n                className={`flex w-full items-center justify-between rounded-xl border px-3 py-2 text-left text-sm transition-colors ${\r\n                  active\r\n                    ? \"border-blue-400 bg-blue-50 text-blue-900 dark:border-blue-400/60 dark:bg-blue-500/10 dark:text-blue-100\"\r\n                    : \"border-slate-200 bg-white text-slate-700 hover:bg-slate-100 dark:border-slate-800 dark:bg-slate-950 dark:text-slate-300 dark:hover:bg-slate-900\"\r\n                }`}\r\n              >\r\n                <span className=\"font-medium\">{moment.label}</span>\r\n                <span className=\"text-xs text-slate-500 dark:text-slate-400\">\r\n                  {new Date(moment.timestamp).toUTCString()}\r\n                </span>\r\n              </button>\r\n            </li>\r\n          );\r\n        })}\r\n      </ul>\r\n\r\n      <div className=\"rounded-xl border border-dashed border-slate-300 bg-white/40 p-3 text-xs text-slate-500 dark:border-slate-700 dark:bg-slate-900/40 dark:text-slate-400\">\r\n        {t.footnote}\r\n      </div>\r\n    </section>\r\n  );\r\n}\r\n\r\nexport default TimelinePlayer;\r\n\r\n"],"names":[],"mappings":";;;;;;;AAEA;AAEA;AAJA;;;;AAMO,SAAS;IACd,MAAM,IAAI,IAAA,sJAAe,EAAC;IAC1B,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,6NAAQ,EAAC,EAAE,MAAM,CAAC,EAAE,EAAE,MAAM;IAE5D,qBACE,0PAAC;QAAQ,WAAU;;0BACjB,0PAAC;gBAAO,WAAU;;kCAChB,0PAAC;;0CACC,0PAAC;gCAAG,WAAU;0CACX,EAAE,KAAK;;;;;;0CAEV,0PAAC;gCAAE,WAAU;0CACV,EAAE,QAAQ;;;;;;;;;;;;kCAGf,0PAAC;wBAAI,WAAU;;0CACb,0PAAC;gCAAO,WAAU;0CACf,EAAE,IAAI;;;;;;0CAET,0PAAC;gCAAO,WAAU;0CACf,EAAE,IAAI;;;;;;;;;;;;;;;;;;0BAKb,0PAAC;gBAAI,WAAU;;kCACb,0PAAC;wBAAI,WAAU;kCACb,cAAA,0PAAC;4BACC,WAAU;4BACV,OAAO;gCACL,OAAO,GACL,AAAC,EAAE,MAAM,CAAC,SAAS,CAAC,CAAC,IAAM,EAAE,EAAE,KAAK,YACjC,KAAK,GAAG,CAAC,EAAE,MAAM,CAAC,MAAM,GAAG,GAAG,KACjC,IACD,CAAC,CAAC;4BACL;;;;;;;;;;;kCAGJ,0PAAC;wBAAI,WAAU;;0CACb,0PAAC;0CAAM,EAAE,aAAa;;;;;;0CACtB,0PAAC;0CAAM,EAAE,WAAW;;;;;;;;;;;;;;;;;;0BAIxB,0PAAC;gBAAG,WAAU;0BACX,EAAE,MAAM,CAAC,GAAG,CAAC,CAAC;oBACb,MAAM,SAAS,OAAO,EAAE,KAAK;oBAC7B,qBACE,0PAAC;kCACC,cAAA,0PAAC;4BACC,MAAK;4BACL,SAAS,IAAM,YAAY,OAAO,EAAE;4BACpC,WAAW,CAAC,yGAAyG,EACnH,SACI,4GACA,mJACJ;;8CAEF,0PAAC;oCAAK,WAAU;8CAAe,OAAO,KAAK;;;;;;8CAC3C,0PAAC;oCAAK,WAAU;8CACb,IAAI,KAAK,OAAO,SAAS,EAAE,WAAW;;;;;;;;;;;;uBAZpC,OAAO,EAAE;;;;;gBAiBtB;;;;;;0BAGF,0PAAC;gBAAI,WAAU;0BACZ,EAAE,QAAQ;;;;;;;;;;;;AAInB;uCAEe","debugId":null}},
    {"offset": {"line": 2124, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/lingm/Downloads/Spaceapps%20photo/frontend/src/hooks/useImageryPreview.ts"],"sourcesContent":["\"use client\";\r\n\r\nimport { useState } from \"react\";\r\n\r\nimport type { ImageryPreview } from \"@/types/imagery\";\r\n\r\ntype PreviewRequest = {\r\n  bbox?: [number, number, number, number];\r\n  startDate?: string;\r\n  endDate?: string;\r\n  layer?: string;\r\n};\r\n\r\nexport default function useImageryPreview() {\r\n  const [preview, setPreview] = useState<ImageryPreview | null>(null);\r\n  const [isLoading, setIsLoading] = useState(false);\r\n  const [error, setError] = useState<string | null>(null);\r\n  const [availableDates, setAvailableDates] = useState<string[]>([]);\r\n\r\n  const fetchPreview = async (request: PreviewRequest = {}) => {\r\n    setIsLoading(true);\r\n    setError(null);\r\n\r\n    try {\r\n      const layer = request.layer ?? \"MODIS_Terra_CorrectedReflectance_TrueColor\";\r\n      const responseTimeline = await fetch(\r\n        `/api/tiles/timeline?layer=${encodeURIComponent(layer)}&limit=200`,\r\n      );\r\n\r\n      if (responseTimeline.ok) {\r\n        const timeline = (await responseTimeline.json()) as { timestamp: string }[];\r\n        const dates = timeline.map((item) => item.timestamp.slice(0, 10));\r\n        setAvailableDates(dates);\r\n      }\r\n\r\n      const response = await fetch(\"/api/tiles/preview\", {\r\n        method: \"POST\",\r\n        headers: { \"Content-Type\": \"application/json\" },\r\n        body: JSON.stringify({\r\n          bbox: request.bbox,\r\n          width: 800,\r\n          height: 400,\r\n          layer,\r\n          time: request.startDate || request.endDate,\r\n        }),\r\n      });\r\n\r\n      if (!response.ok) {\r\n        const data = await response.json();\r\n        throw new Error(data.detail?.message ?? \"Failed to load imagery preview\");\r\n      }\r\n\r\n      const data = (await response.json()) as ImageryPreview;\r\n      setPreview(data);\r\n    } catch (err) {\r\n      const message = err instanceof Error ? err.message : \"Unknown error\";\r\n      setError(message);\r\n    } finally {\r\n      setIsLoading(false);\r\n    }\r\n  };\r\n\r\n  return {\r\n    preview,\r\n    isLoading,\r\n    error,\r\n    availableDates,\r\n    fetchPreview,\r\n  };\r\n}\r\n\r\n\r\n"],"names":[],"mappings":";;;;AAEA;AAFA;;AAae,SAAS;IACtB,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,6NAAQ,EAAwB;IAC9D,MAAM,CAAC,WAAW,aAAa,GAAG,IAAA,6NAAQ,EAAC;IAC3C,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,6NAAQ,EAAgB;IAClD,MAAM,CAAC,gBAAgB,kBAAkB,GAAG,IAAA,6NAAQ,EAAW,EAAE;IAEjE,MAAM,eAAe,OAAO,UAA0B,CAAC,CAAC;QACtD,aAAa;QACb,SAAS;QAET,IAAI;YACF,MAAM,QAAQ,QAAQ,KAAK,IAAI;YAC/B,MAAM,mBAAmB,MAAM,MAC7B,CAAC,0BAA0B,EAAE,mBAAmB,OAAO,UAAU,CAAC;YAGpE,IAAI,iBAAiB,EAAE,EAAE;gBACvB,MAAM,WAAY,MAAM,iBAAiB,IAAI;gBAC7C,MAAM,QAAQ,SAAS,GAAG,CAAC,CAAC,OAAS,KAAK,SAAS,CAAC,KAAK,CAAC,GAAG;gBAC7D,kBAAkB;YACpB;YAEA,MAAM,WAAW,MAAM,MAAM,sBAAsB;gBACjD,QAAQ;gBACR,SAAS;oBAAE,gBAAgB;gBAAmB;gBAC9C,MAAM,KAAK,SAAS,CAAC;oBACnB,MAAM,QAAQ,IAAI;oBAClB,OAAO;oBACP,QAAQ;oBACR;oBACA,MAAM,QAAQ,SAAS,IAAI,QAAQ,OAAO;gBAC5C;YACF;YAEA,IAAI,CAAC,SAAS,EAAE,EAAE;gBAChB,MAAM,OAAO,MAAM,SAAS,IAAI;gBAChC,MAAM,IAAI,MAAM,KAAK,MAAM,EAAE,WAAW;YAC1C;YAEA,MAAM,OAAQ,MAAM,SAAS,IAAI;YACjC,WAAW;QACb,EAAE,OAAO,KAAK;YACZ,MAAM,UAAU,eAAe,QAAQ,IAAI,OAAO,GAAG;YACrD,SAAS;QACX,SAAU;YACR,aAAa;QACf;IACF;IAEA,OAAO;QACL;QACA;QACA;QACA;QACA;IACF;AACF","debugId":null}},
    {"offset": {"line": 2185, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/lingm/Downloads/Spaceapps%20photo/frontend/src/app/page.tsx"],"sourcesContent":["\"use client\";\n\nimport Link from \"next/link\";\nimport { useState } from \"react\";\n\nimport DatasetSidebar from \"@/components/DatasetSidebar\";\nimport MapViewport from \"@/components/MapViewport\";\nimport { AnnotationPanel } from \"@/components/annotation\";\nimport ResourcePanel from \"@/components/ResourcePanel\";\nimport SearchPanel from \"@/components/SearchPanel\";\nimport TimelinePlayer from \"@/components/TimelinePlayer\";\nimport TranslationWidget from \"@/components/TranslationWidget\";\nimport { DATASET_LOOKUP, DATASETS } from \"@/data/datasets\";\nimport type { Annotation } from \"@/types/annotation\";\nimport useTranslations from \"@/hooks/useTranslations\";\nimport useImageryPreview from \"@/hooks/useImageryPreview\";\n\ntype WorkspaceView = \"explore\" | \"insights\" | \"annotate\" | \"translate\";\ntype FeatureTab = { id: WorkspaceView; label: string; description: string };\n\nconst FEATURE_TABS: FeatureTab[] = [\n  { id: \"explore\", label: \"Explore\", description: \"Browse the space imagery catalog and switch datasets.\" },\n  {\n    id: \"insights\",\n    label: \"Insights\",\n    description: \"Review timelines, mission updates, and contextual resources in one place.\",\n  },\n  {\n    id: \"annotate\",\n    label: \"Annotate\",\n    description: \"Capture notes, tag coordinates, and collaborate on observations.\",\n  },\n  {\n    id: \"translate\",\n    label: \"Translate\",\n    description: \"Localise mission content or field notes with integrated translation tools.\",\n  },\n];\n\nexport default function Home() {\n  const { preview, isLoading, fetchPreview, error, availableDates } = useImageryPreview();\n  const hero = useTranslations(\"hero\");\n  const backend = useTranslations(\"backendSection\");\n\n  const [selectedDatasetId, setSelectedDatasetId] = useState<string>(DATASETS[0]?.id ?? \"earth-true-color\");\n  const [annotations, setAnnotations] = useState<Annotation[]>([]);\n  const [activeView, setActiveView] = useState<WorkspaceView>(\"explore\");\n\n  const selectedDataset = DATASET_LOOKUP.get(selectedDatasetId);\n\n  const handleNewAnnotation = (annotation: Annotation) => {\n    setAnnotations((prev) => [annotation, ...prev]);\n  };\n\n  const heroContent = (\n    <section className=\"flex flex-col gap-6 rounded-3xl border border-slate-200 bg-white/80 p-6 shadow-lg shadow-slate-200/40 backdrop-blur dark:border-slate-800 dark:bg-slate-900/70 dark:shadow-slate-900/40\">\n      <div className=\"flex flex-col gap-4 lg:flex-row lg:items-center lg:justify-between\">\n        <div className=\"space-y-3\">\n          <p className=\"text-[11px] uppercase tracking-[0.45em] text-slate-500 dark:text-slate-400\">\n            {hero.badge}\n          </p>\n          <h1 className=\"text-3xl font-semibold leading-tight text-slate-900 dark:text-slate-50 md:text-[36px]\">\n            {hero.title}\n          </h1>\n          <p className=\"max-w-3xl text-sm text-slate-600 dark:text-slate-300\">{hero.description}</p>\n          <div className=\"flex flex-wrap gap-2 text-[11px] uppercase tracking-[0.2em] text-slate-500 dark:text-slate-400\">\n            {hero.tags.map((tag) => (\n              <span key={tag} className=\"rounded-full border border-slate-200 px-3 py-1 dark:border-slate-700\">\n                {tag}\n              </span>\n            ))}\n          </div>\n        </div>\n        <section className=\"flex max-w-sm flex-col gap-3 rounded-2xl border border-slate-200 bg-white/70 p-4 text-sm text-slate-600 shadow-inner dark:border-slate-700 dark:bg-slate-900/60 dark:text-slate-300\">\n          <h2 className=\"text-base font-semibold text-slate-900 dark:text-slate-100\">{backend.title}</h2>\n          <p>{backend.description}</p>\n          <Link\n            href=\"/docs/architecture\"\n            className=\"inline-flex items-center gap-1 text-sm font-semibold text-blue-600 hover:underline\"\n          >\n            {backend.linkText}\n          </Link>\n        </section>\n      </div>\n    </section>\n  );\n\n  const explorePane = (\n    <div className=\"grid w-full gap-4\">\n      <div className=\"grid gap-4 lg:grid-cols-[320px_minmax(0,1fr)] xl:grid-cols-[340px_minmax(0,1fr)] lg:items-start\">\n        <div className=\"flex h-full flex-col gap-4\">\n          <SearchPanel onPreview={fetchPreview} isLoading={isLoading} error={error} preview={preview} />\n          <DatasetSidebar\n            selectedId={selectedDatasetId}\n            onSelect={setSelectedDatasetId}\n            className=\"hidden lg:flex flex-1 min-h-0\"\n            height=\"lg:h-[360px]\"\n          />\n        </div>\n        <div className=\"h-full min-h-[360px]\">\n          <MapViewport\n            datasetId={selectedDatasetId}\n            previewUrl={preview?.image}\n            layerName={preview?.layer}\n            timestamp={preview?.time}\n            metadata={preview ? preview.bbox.join(\", \") : undefined}\n            attribution={preview?.attribution}\n            onDatasetChange={(dataset) => {\n              if (dataset.supportsTime && dataset.defaultDate) {\n                // Hook for future enhancements\n              }\n            }}\n            className=\"h-full\"\n            availableDates={availableDates}\n            onDateChange={(date) => {\n              if (preview && date) {\n                fetchPreview({ layer: preview.layer, startDate: date });\n              }\n            }}\n          />\n        </div>\n      </div>\n      <DatasetSidebar selectedId={selectedDatasetId} onSelect={setSelectedDatasetId} className=\"lg:hidden\" />\n    </div>\n  );\n\n  const insightsPane = (\n    <div className=\"grid gap-4 lg:grid-cols-2 lg:gap-6\">\n      <TimelinePlayer />\n      <ResourcePanel />\n    </div>\n  );\n\n  const annotatePane = (\n    <div className=\"grid gap-4 lg:grid-cols-[minmax(0,340px)_minmax(0,1fr)]\">\n      <AnnotationPanel dataset={selectedDataset} annotations={annotations} onAdd={handleNewAnnotation} />\n      <MapViewport\n        datasetId={selectedDatasetId}\n        previewUrl={preview?.image}\n        layerName={preview?.layer}\n        timestamp={preview?.time}\n        metadata={preview ? preview.bbox.join(\", \") : undefined}\n        attribution={preview?.attribution}\n        className=\"min-h-[480px]\"\n      />\n    </div>\n  );\n\n  const translatePane = (\n    <div className=\"grid gap-4 lg:grid-cols-2 lg:items-start\">\n      <TranslationWidget />\n      <ResourcePanel />\n    </div>\n  );\n\n  const renderActiveContent = () => {\n    switch (activeView) {\n      case \"explore\":\n        return explorePane;\n      case \"insights\":\n        return insightsPane;\n      case \"annotate\":\n        return annotatePane;\n      case \"translate\":\n        return translatePane;\n      default:\n        return explorePane;\n    }\n  };\n\n  return (\n    <div className=\"min-h-screen bg-slate-50 text-slate-900 dark:bg-slate-950 dark:text-slate-100\">\n      <div className=\"mx-auto flex w-full max-w-[1320px] flex-col gap-6 px-4 pb-12 pt-8 sm:px-6 lg:px-10\">\n        <div className=\"grid gap-6 lg:grid-cols-[minmax(0,520px)_minmax(0,1fr)]\">\n          {heroContent}\n          <section className=\"flex flex-col gap-4 rounded-3xl border border-slate-200 bg-white/80 p-5 shadow-xl shadow-slate-200/40 backdrop-blur dark:border-slate-800 dark:bg-slate-900/70 dark:shadow-slate-900/40\">\n            <header className=\"flex items-start justify-between\">\n              <div>\n                <h2 className=\"text-lg font-semibold text-slate-900 dark:text-slate-100\">Workspace Modes</h2>\n                <p className=\"text-xs text-slate-500 dark:text-slate-400\">\n                  Switch between exploration, mission insights, annotation, or translation tools.\n                </p>\n              </div>\n            </header>\n            <div className=\"grid gap-3 md:grid-cols-2\">\n              {FEATURE_TABS.map((tab) => {\n                const active = activeView === tab.id;\n                return (\n                  <button\n                    key={tab.id}\n                    type=\"button\"\n                    onClick={() => setActiveView(tab.id)}\n                    className={`group flex flex-col gap-2 rounded-2xl border px-4 py-4 text-left transition-all ${\n                      active\n                        ? \"border-blue-500 bg-gradient-to-br from-blue-600/15 via-blue-500/10 to-blue-600/5 text-blue-600 shadow-lg shadow-blue-500/20 dark:text-blue-200\"\n                        : \"border-slate-200 bg-white/60 text-slate-600 hover:border-blue-300 hover:text-blue-500 dark:border-slate-700 dark:bg-slate-900/60 dark:text-slate-300\"\n                    }`}\n                  >\n                    <span className=\"text-sm font-semibold\">{tab.label}</span>\n                    <span className=\"text-xs text-slate-500 transition-colors group-hover:text-inherit dark:text-slate-400\">\n                      {tab.description}\n                    </span>\n                  </button>\n                );\n              })}\n            </div>\n          </section>\n        </div>\n\n        <div className=\"rounded-3xl border border-slate-200 bg-white shadow-xl shadow-slate-200/40 backdrop-blur dark:border-slate-800 dark:bg-slate-900/80 dark:shadow-slate-900/40\">\n          <div className=\"rounded-3xl border border-white/60 bg-white/85 p-6 dark:border-slate-800/60 dark:bg-slate-900/70\">\n            {renderActiveContent()}\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":"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","debugId":null}}]
}